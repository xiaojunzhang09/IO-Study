<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘ - æˆ‘çš„åšå®¢</title><meta name="author" content="">
<meta name="description" content="è¿™æ˜¯æˆ‘çš„æŠ€æœ¯åšå®¢"><meta name="keywords" content='draft'>
  <meta itemprop="name" content="01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘">
  <meta itemprop="description" content="è¿™æ˜¯æˆ‘çš„æŠ€æœ¯åšå®¢">
  <meta itemprop="datePublished" content="2025-08-03T11:25:19+08:00">
  <meta itemprop="dateModified" content="2025-08-03T11:25:19+08:00">
  <meta itemprop="wordCount" content="895">
  <meta itemprop="keywords" content="Draft"><meta property="og:url" content="http://localhost:1313/posts/io/5f4d35a/">
  <meta property="og:site_name" content="æˆ‘çš„åšå®¢">
  <meta property="og:title" content="01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘">
  <meta property="og:description" content="è¿™æ˜¯æˆ‘çš„æŠ€æœ¯åšå®¢">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-03T11:25:19+08:00">
    <meta property="article:modified_time" content="2025-08-03T11:25:19+08:00">
    <meta property="article:tag" content="Draft">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘">
  <meta name="twitter:description" content="è¿™æ˜¯æˆ‘çš„æŠ€æœ¯åšå®¢">
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" type="text/html" href="http://localhost:1313/posts/io/5f4d35a/" title="01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘ - æˆ‘çš„åšå®¢" /><link rel="prev" type="text/html" href="http://localhost:1313/posts/e2aee69/" title="Hello World" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘",
    "inLanguage": "zh-cn",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:1313\/posts\/io\/5f4d35a\/"
    },"genre": "posts","keywords": "draft","wordcount":  895 ,
    "url": "http:\/\/localhost:1313\/posts\/io\/5f4d35a\/","datePublished": "2025-08-03T11:25:19+08:00","dateModified": "2025-08-03T11:25:19+08:00","publisher": {
      "@type": "Organization",
      "name": ""},"description": ""
  }
  </script><script src="/js/head/color-scheme.min.js"></script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="æˆ‘çš„åšå®¢"><span class="header-title-text">æˆ‘çš„åšå®¢</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Archives</a></li><li class="menu-item">
              <a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item">
              <a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item delimiter"></li><li class="menu-item theme-switch" title="Switch Theme">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="æˆ‘çš„åšå®¢"><span class="header-title-text">æˆ‘çš„åšå®¢</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="menu-item"><a class="menu-link" href="/archives/"><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden="true"></i> Archives</a></li><li class="menu-item"><a class="menu-link" href="/categories/"><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden="true"></i> Categories</a></li><li class="menu-item"><a class="menu-link" href="/tags/"><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden="true"></i> Tags</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><main class="container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="Collections"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span title="Repost" class="icon-repost"><i class="fa-solid fa-share fa-fw" aria-hidden="true"></i></span><span>01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      Anonymous</span></span><span class="post-included-in">&nbsp;included in <a href="/categories/draft/" class="post-category" title="Category - Draft"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> Draft</a></span></div><div class="post-meta-line"><span title="published on 2025-08-03 11:25:19"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2025-08-03">2025-08-03</time></span>&nbsp;<span title="895 words"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>About 900 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>5 minutes</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>Contents</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#-1-å„è‡ªå®šä¹‰ä¸ä½œç”¨">ğŸ” 1. å„è‡ªå®šä¹‰ä¸ä½œç”¨</a>
      <ul>
        <li><a href="#-vfsvirtual-file-systemè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ">âœ… VFSï¼ˆVirtual File Systemï¼‰è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</a></li>
        <li><a href="#-fdfile-descriptoræ–‡ä»¶æè¿°ç¬¦">âœ… FDï¼ˆFile Descriptorï¼‰æ–‡ä»¶æè¿°ç¬¦</a></li>
        <li><a href="#-pagecacheé¡µç¼“å­˜">âœ… PageCacheï¼ˆé¡µç¼“å­˜ï¼‰</a></li>
        <li><a href="#-kernellinux-å†…æ ¸">âœ… Kernelï¼ˆLinux å†…æ ¸ï¼‰</a></li>
      </ul>
    </li>
    <li><a href="#-2-å®ƒä»¬ä¹‹é—´çš„å…³ç³»ä»è°ƒç”¨é“¾è§’åº¦">ğŸ” 2. å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆä»è°ƒç”¨é“¾è§’åº¦ï¼‰</a>
      <ul>
        <li><a href="#-ç”¨æˆ·è¿›ç¨‹è®¿é—®æ–‡ä»¶æ•°æ®æµç¨‹ç®€åŒ–ç‰ˆ">ğŸŒ ç”¨æˆ·è¿›ç¨‹è®¿é—®æ–‡ä»¶æ•°æ®æµç¨‹ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</a></li>
      </ul>
    </li>
    <li><a href="#-ç®€æ˜é€»è¾‘é“¾æ€»ç»“">ğŸ“Œ ç®€æ˜é€»è¾‘é“¾æ€»ç»“</a></li>
    <li><a href="#-ä¸¾ä¸ªä¾‹å­å¸®åŠ©ç†è§£">ğŸ“Œ ä¸¾ä¸ªä¾‹å­å¸®åŠ©ç†è§£</a></li>
    <li><a href="#-æ‹“å±•ç†è§£">ğŸ§  æ‹“å±•ç†è§£</a>
      <ul>
        <li><a href="#-ç†è§£-linux-å†…æ ¸èµ„æºç»“æ„é…åˆ-procsysvmstat">ğŸ§  ç†è§£ Linux å†…æ ¸èµ„æºç»“æ„ï¼ˆé…åˆ /procã€/sysã€vmstatï¼‰ï¼š</a></li>
      </ul>
    </li>
    <li><a href="#-å…¸å‹å‘½ä»¤å®åœ°æŸ¥çœ‹">ğŸ§ª å…¸å‹å‘½ä»¤å®åœ°æŸ¥çœ‹</a>
      <ul>
        <li><a href="#1-procè™šæ‹Ÿå†…å­˜å’Œè¿›ç¨‹ä¿¡æ¯ä»å†…æ ¸å¯¼å‡º">1. <code>/proc</code>ï¼šè™šæ‹Ÿå†…å­˜å’Œè¿›ç¨‹ä¿¡æ¯ï¼ˆä»å†…æ ¸å¯¼å‡ºï¼‰</a>
          <ul>
            <li><a href="#-ç»“æ„ç¤ºæ„">ğŸ’¡ ç»“æ„ç¤ºæ„</a></li>
            <li><a href="#-ç¤ºä¾‹">ğŸ” ç¤ºä¾‹</a></li>
          </ul>
        </li>
        <li><a href="#2-sysfså†…æ ¸å­ç³»ç»Ÿçš„é…ç½®æ¥å£">2. <code>/sys/fs</code>ï¼šå†…æ ¸å­ç³»ç»Ÿçš„é…ç½®æ¥å£</a></li>
        <li><a href="#3-vmstatåŠ¨æ€å†…å­˜--swap--io-çŠ¶æ€">3. <code>vmstat</code>ï¼šåŠ¨æ€å†…å­˜ &amp; swap &amp; IO çŠ¶æ€</a>
          <ul>
            <li><a href="#-è¾“å‡ºç¤ºæ„">ğŸ§¾ è¾“å‡ºç¤ºæ„</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#-å¯è§†åŒ–å»ºè®®ascii-é£æ ¼">ğŸ“Š å¯è§†åŒ–å»ºè®®ï¼ˆASCII é£æ ¼ï¼‰</a>
      <ul>
        <li><a href="#linux-è™šæ‹Ÿå†…å­˜ç»“æ„">Linux è™šæ‹Ÿå†…å­˜ç»“æ„ï¼š</a></li>
        <li><a href="#-ç¤ºä¾‹å®æˆ˜æŸ¥çœ‹å½“å‰ç³»ç»Ÿè´Ÿè½½å’Œå†…å­˜å¥åº·åº¦">ğŸš€ ç¤ºä¾‹å®æˆ˜ï¼šæŸ¥çœ‹å½“å‰ç³»ç»Ÿè´Ÿè½½å’Œå†…å­˜å¥åº·åº¦</a></li>
      </ul>
    </li>
    <li><a href="#-å°ç»“">âœ… å°ç»“</a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#-1-ä»€ä¹ˆæ˜¯-pcstat">âœ… 1. ä»€ä¹ˆæ˜¯ <code>pcstat</code>ï¼Ÿ</a></li>
        <li><a href="#-2-ä½ å¯èƒ½çœŸæ­£æƒ³ç”¨çš„æ˜¯">âœ… 2. ä½ å¯èƒ½çœŸæ­£æƒ³ç”¨çš„æ˜¯ï¼š</a>
          <ul>
            <li><a href="#-æ–¹æ³•ä¸€cat-procstatus">ğŸ“Œ æ–¹æ³•ä¸€ï¼š<code>cat /proc/$$/status</code></a></li>
            <li><a href="#-æ–¹æ³•äºŒpmap">ğŸ“Œ æ–¹æ³•äºŒï¼š<code>pmap</code></a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><p><strong>VFSã€FDã€PageCacheã€Kernel</strong> æ˜¯ Linux å†…æ ¸ I/O å­ç³»ç»Ÿä¸­éå¸¸æ ¸å¿ƒçš„å‡ ä¸ªæ¦‚å¿µï¼Œå®ƒä»¬å½¼æ­¤ä¹‹é—´æœ‰æ˜ç¡®çš„é€»è¾‘å…³ç³»ã€‚ä¸‹é¢æˆ‘å°†é€ä¸€è§£é‡Šï¼Œå¹¶ç»“åˆä¸€ä¸ªæ•´ä½“è§†è§’è¯´æ˜å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p>
<hr>
<h2 class="heading-element" id="-1-å„è‡ªå®šä¹‰ä¸ä½œç”¨"><span>ğŸ” 1. å„è‡ªå®šä¹‰ä¸ä½œç”¨</span>
  <a href="#-1-%e5%90%84%e8%87%aa%e5%ae%9a%e4%b9%89%e4%b8%8e%e4%bd%9c%e7%94%a8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 class="heading-element" id="-vfsvirtual-file-systemè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ"><span>âœ… VFSï¼ˆVirtual File Systemï¼‰è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</span>
  <a href="#-vfsvirtual-file-system%e8%99%9a%e6%8b%9f%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>VFS æ˜¯ Linux æä¾›çš„<strong>ç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»ŸæŠ½è±¡æ¥å£å±‚</strong>ã€‚</li>
<li>ä¸ç®¡ä½ æ˜¯ç”¨çš„æ˜¯ ext4ã€xfs è¿˜æ˜¯ nfsï¼ŒVFS æä¾›äº†ç»Ÿä¸€çš„æ“ä½œæ¥å£ï¼Œæ¯”å¦‚ openã€readã€writeã€closeã€‚</li>
<li>ä½œç”¨ï¼š<strong>å±è”½ä¸åŒåº•å±‚æ–‡ä»¶ç³»ç»Ÿå®ç°å·®å¼‚</strong>ï¼Œå¯¹ä¸Šå±‚ï¼ˆå¦‚ç”¨æˆ·ç¨‹åºï¼‰æä¾›ä¸€è‡´çš„ APIã€‚</li>
</ul>
<hr>
<h3 class="heading-element" id="-fdfile-descriptoræ–‡ä»¶æè¿°ç¬¦"><span>âœ… FDï¼ˆFile Descriptorï¼‰æ–‡ä»¶æè¿°ç¬¦</span>
  <a href="#-fdfile-descriptor%e6%96%87%e4%bb%b6%e6%8f%8f%e8%bf%b0%e7%ac%a6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>FD æ˜¯ç”¨æˆ·æ€è®¿é—®æ–‡ä»¶ã€socketã€ç®¡é“ç­‰èµ„æºçš„<strong>ç´¢å¼•å¥æŸ„</strong>ã€‚</li>
<li>æ¯å½“ä½  <code>open()</code> ä¸€ä¸ªæ–‡ä»¶ï¼Œå†…æ ¸ä¼šè¿”å›ä¸€ä¸ª FDï¼ˆæ•´æ•°ï¼‰ã€‚</li>
<li>FD æœ¬è´¨æ˜¯è¿›ç¨‹çº§çš„ä¸€ä¸ªæ•´æ•°ç´¢å¼•ï¼ŒæŒ‡å‘ <code>struct file*</code> ç»“æ„ä½“ã€‚</li>
<li>æ˜¯ç”¨æˆ·ç©ºé—´è¿›å…¥ VFS å±‚çš„<strong>å…¥å£</strong>ã€‚</li>
</ul>
<hr>
<h3 class="heading-element" id="-pagecacheé¡µç¼“å­˜"><span>âœ… PageCacheï¼ˆé¡µç¼“å­˜ï¼‰</span>
  <a href="#-pagecache%e9%a1%b5%e7%bc%93%e5%ad%98" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>æ˜¯ Linux å†…æ ¸ä¸­ä¸€å—ç”¨äºç¼“å­˜<strong>æ–‡ä»¶æ•°æ®é¡µ</strong>çš„å†…å­˜åŒºåŸŸã€‚</li>
<li>å½“ä½ é€šè¿‡ <code>read()</code> è¯»å–æ–‡ä»¶æ—¶ï¼Œæ•°æ®å…ˆä» PageCache æŸ¥æ‰¾ï¼Œ<strong>å‘½ä¸­åˆ™é¿å…ç£ç›˜ I/O</strong>ï¼ŒåŠ é€Ÿè®¿é—®ã€‚</li>
<li>å½“å†™æ–‡ä»¶æ—¶ï¼Œä¹Ÿå…ˆå†™å…¥ PageCacheï¼Œä¹‹åç”±å†…æ ¸åå° <code>flush</code> åˆ°ç£ç›˜ï¼ˆå†™å›æœºåˆ¶ï¼‰ã€‚</li>
<li>å±äº Linux çš„ <strong>ç»Ÿä¸€ç¼“å­˜æœºåˆ¶ï¼ˆunified page cacheï¼‰</strong>ã€‚</li>
</ul>
<hr>
<h3 class="heading-element" id="-kernellinux-å†…æ ¸"><span>âœ… Kernelï¼ˆLinux å†…æ ¸ï¼‰</span>
  <a href="#-kernellinux-%e5%86%85%e6%a0%b8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li>Kernel æ˜¯æ•´ä¸ªç³»ç»Ÿçš„<strong>æ ¸å¿ƒç®¡ç†å±‚</strong>ï¼ŒVFSã€PageCacheã€å†…å­˜ã€è¿›ç¨‹è°ƒåº¦ã€I/O å­ç³»ç»Ÿç­‰éƒ½è¿è¡Œåœ¨å…¶ä¸­ã€‚</li>
<li>Kernel æä¾›ç³»ç»Ÿè°ƒç”¨ï¼ˆsyscallï¼‰æ¥å£è®©ç”¨æˆ·ç©ºé—´è¿›ç¨‹è®¿é—®èµ„æºã€‚</li>
<li>VFSã€PageCacheã€FD éƒ½æ˜¯ Kernel æ¨¡å—çš„ç»„æˆéƒ¨åˆ†ã€‚</li>
</ul>
<hr>
<h2 class="heading-element" id="-2-å®ƒä»¬ä¹‹é—´çš„å…³ç³»ä»è°ƒç”¨é“¾è§’åº¦"><span>ğŸ” 2. å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆä»è°ƒç”¨é“¾è§’åº¦ï¼‰</span>
  <a href="#-2-%e5%ae%83%e4%bb%ac%e4%b9%8b%e9%97%b4%e7%9a%84%e5%85%b3%e7%b3%bb%e4%bb%8e%e8%b0%83%e7%94%a8%e9%93%be%e8%a7%92%e5%ba%a6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 class="heading-element" id="-ç”¨æˆ·è¿›ç¨‹è®¿é—®æ–‡ä»¶æ•°æ®æµç¨‹ç®€åŒ–ç‰ˆ"><span>ğŸŒ ç”¨æˆ·è¿›ç¨‹è®¿é—®æ–‡ä»¶æ•°æ®æµç¨‹ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</span>
  <a href="#-%e7%94%a8%e6%88%b7%e8%bf%9b%e7%a8%8b%e8%ae%bf%e9%97%ae%e6%96%87%e4%bb%b6%e6%95%b0%e6%8d%ae%e6%b5%81%e7%a8%8b%e7%ae%80%e5%8c%96%e7%89%88" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><pre tabindex="0"><code>
ç”¨æˆ·æ€ç¨‹åº
   |
open(&#34;file.txt&#34;) â†’ å¾—åˆ° FDï¼ˆå¦‚ 3ï¼‰
   |
read(fd, buf, size) â†’ è°ƒç”¨ syscall
   |
â¬‡
[Linux Kernel]
   |
â†’ é€šè¿‡ FD æŸ¥æ‰¾ struct file*
   |
â†’ VFS å±‚å¤„ç†ï¼šæ ¹æ®æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼ˆext4/xfs/nfsï¼‰è°ƒç”¨å¯¹åº”å®ç°
   |
â†’ æŸ¥æ‰¾é¡µç¼“å­˜ï¼ˆPageCacheï¼‰æ˜¯å¦æœ‰è¯¥é¡µ
    â”œâ”€âœ… å‘½ä¸­ â†’ ä»å†…å­˜è¯»å– â†’ è¿”å›ç»™ç”¨æˆ·
    â””â”€âŒ æœªå‘½ä¸­ â†’ å‘èµ· block device I/Oï¼ˆä»ç£ç›˜è¯»å–ï¼‰â†’ å¡«å…… PageCache â†’ è¿”å›æ•°æ®</code></pre><hr>
<h2 class="heading-element" id="-ç®€æ˜é€»è¾‘é“¾æ€»ç»“"><span>ğŸ“Œ ç®€æ˜é€»è¾‘é“¾æ€»ç»“</span>
  <a href="#-%e7%ae%80%e6%98%8e%e9%80%bb%e8%be%91%e9%93%be%e6%80%bb%e7%bb%93" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><table>
  <thead>
      <tr>
          <th>æ¦‚å¿µ</th>
          <th>æ‰€å±å±‚çº§</th>
          <th>ä¸»è¦ä½œç”¨</th>
          <th>ä¸å…¶ä»–ç»„ä»¶å…³ç³»</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>FD</strong></td>
          <td>ç”¨æˆ·æ€ / å†…æ ¸</td>
          <td>ç”¨æˆ·è®¿é—®æ–‡ä»¶çš„å¥æŸ„ï¼ˆç´¢å¼•ï¼‰</td>
          <td>æŒ‡å‘å†…æ ¸ <code>file*</code> ç»“æ„ä½“ï¼Œé€šè¿‡å®ƒè¿›å…¥ VFS</td>
      </tr>
      <tr>
          <td><strong>VFS</strong></td>
          <td>å†…æ ¸</td>
          <td>æä¾›ç»Ÿä¸€æ–‡ä»¶è®¿é—®æŠ½è±¡æ¥å£</td>
          <td>æ¥æ”¶æ¥è‡ª FD çš„è¯·æ±‚ï¼Œè·¯ç”±åˆ°å®é™…æ–‡ä»¶ç³»ç»Ÿ</td>
      </tr>
      <tr>
          <td><strong>PageCache</strong></td>
          <td>å†…æ ¸</td>
          <td>æ–‡ä»¶æ•°æ®çš„ç¼“å­˜å±‚ï¼Œæå‡ I/O æ€§èƒ½</td>
          <td>è¢« VFS å±‚æŸ¥è¯¢æˆ–æ›´æ–°ï¼Œç¼“å­˜æ•°æ®é¡µ</td>
      </tr>
      <tr>
          <td><strong>Kernel</strong></td>
          <td>å†…æ ¸</td>
          <td>æ‰¿è½½ä¸€åˆ‡ç®¡ç†åŠŸèƒ½</td>
          <td>å®¹çº³å¹¶è°ƒåº¦æ‰€æœ‰ç»„ä»¶ï¼Œå¦‚ VFSã€PageCacheã€block I/O</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 class="heading-element" id="-ä¸¾ä¸ªä¾‹å­å¸®åŠ©ç†è§£"><span>ğŸ“Œ ä¸¾ä¸ªä¾‹å­å¸®åŠ©ç†è§£</span>
  <a href="#-%e4%b8%be%e4%b8%aa%e4%be%8b%e5%ad%90%e5%b8%ae%e5%8a%a9%e7%90%86%e8%a7%a3" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>ä½ è¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
<pre tabindex="0"><code>c



int fd = open(&#34;a.txt&#34;, O_RDONLY);
char buf[100];
read(fd, buf, 100);</code></pre><p>å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li><code>open()</code> â†’ Kernel åˆ›å»º <code>file*</code>ï¼Œè¿”å› FDï¼›</li>
<li><code>read()</code> â†’ æ ¹æ® FD æ‰¾åˆ° <code>file*</code>ï¼›</li>
<li>VFS â†’ ç¡®è®¤è¯¥æ–‡ä»¶å±äº ext4ï¼›</li>
<li>æŸ¥ PageCache çœ‹æœ‰æ²¡æœ‰æ•°æ®é¡µï¼›</li>
<li>æ²¡æœ‰çš„è¯ â†’ å‘èµ· disk read â†’ å¡« PageCacheï¼›</li>
<li>å°†æ•°æ®æ‹·è´åˆ° <code>buf[]</code>ï¼›</li>
<li>ç”¨æˆ·æ€è¯»å–å®Œæˆã€‚</li>
</ol>
<hr>
<h2 class="heading-element" id="-æ‹“å±•ç†è§£"><span>ğŸ§  æ‹“å±•ç†è§£</span>
  <a href="#-%e6%8b%93%e5%b1%95%e7%90%86%e8%a7%a3" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><table>
  <thead>
      <tr>
          <th>ç±»åˆ«</th>
          <th>å…³é”®ç‚¹</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>å¼‚æ­¥å†™</td>
          <td>å†™æ•°æ®æ—¶ä¸ä¼šç«‹åˆ»å†™ç£ç›˜ï¼Œè€Œæ˜¯å†™åˆ° PageCacheï¼Œç¨å flush</td>
      </tr>
      <tr>
          <td>Direct I/O</td>
          <td>ç»•è¿‡ PageCacheï¼Œç›´æ¥å¯¹ block device è¿›è¡Œ I/O</td>
      </tr>
      <tr>
          <td>mmap æ˜ å°„æ–‡ä»¶</td>
          <td>ä¹Ÿæ˜¯é€šè¿‡ PageCache æ˜ å°„é¡µè®¿é—®æ–‡ä»¶</td>
      </tr>
  </tbody>
</table>
<hr>
<p>ç»“åˆ Linux ç³»ç»Ÿçš„ <code>/proc</code>ã€<code>/sys/fs</code>ã€<code>vmstat</code> ç­‰å‘½ä»¤æ¥æŸ¥çœ‹å†…å­˜ã€æ–‡ä»¶ç³»ç»Ÿã€è™šæ‹Ÿå†…å­˜å’Œè¿›ç¨‹è°ƒåº¦ç­‰å…³é”®å†…æ ¸ç»“æ„çš„â€œå®åœ°çŠ¶æ€â€ã€‚</p>
<hr>
<h3 class="heading-element" id="-ç†è§£-linux-å†…æ ¸èµ„æºç»“æ„é…åˆ-procsysvmstat"><span>ğŸ§  ç†è§£ Linux å†…æ ¸èµ„æºç»“æ„ï¼ˆé…åˆ /procã€/sysã€vmstatï¼‰ï¼š</span>
  <a href="#-%e7%90%86%e8%a7%a3-linux-%e5%86%85%e6%a0%b8%e8%b5%84%e6%ba%90%e7%bb%93%e6%9e%84%e9%85%8d%e5%90%88-procsysvmstat" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><pre tabindex="0"><code>lua


+----------------------------+
|        åº”ç”¨ç”¨æˆ·å±‚         |
+-------------+--------------+
              |
              v
+-------------+--------------+
|        Linux å†…æ ¸å±‚        |
|                            |
|  +---------+   +---------+ |
|  | è¿›ç¨‹è°ƒåº¦ |   | å†…å­˜ç®¡ç† | &lt;--- /proc/[pid]/sched, /proc/meminfo
|  +---------+   +---------+ |
|      |              |      |
|      v              v      |
|  +--------+     +--------+ |
|  | /proc  |     | /sys/fs| &lt;--- è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿæ¥å£ï¼Œä¾›ç”¨æˆ·æ€è¯»å–ç³»ç»Ÿä¿¡æ¯
|  +--------+     +--------+ |
+----------------------------+</code></pre><hr>
<h2 class="heading-element" id="-å…¸å‹å‘½ä»¤å®åœ°æŸ¥çœ‹"><span>ğŸ§ª å…¸å‹å‘½ä»¤å®åœ°æŸ¥çœ‹</span>
  <a href="#-%e5%85%b8%e5%9e%8b%e5%91%bd%e4%bb%a4%e5%ae%9e%e5%9c%b0%e6%9f%a5%e7%9c%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 class="heading-element" id="1-procè™šæ‹Ÿå†…å­˜å’Œè¿›ç¨‹ä¿¡æ¯ä»å†…æ ¸å¯¼å‡º"><span>1. <code>/proc</code>ï¼šè™šæ‹Ÿå†…å­˜å’Œè¿›ç¨‹ä¿¡æ¯ï¼ˆä»å†…æ ¸å¯¼å‡ºï¼‰</span>
  <a href="#1-proc%e8%99%9a%e6%8b%9f%e5%86%85%e5%ad%98%e5%92%8c%e8%bf%9b%e7%a8%8b%e4%bf%a1%e6%81%af%e4%bb%8e%e5%86%85%e6%a0%b8%e5%af%bc%e5%87%ba" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><h4 class="heading-element" id="-ç»“æ„ç¤ºæ„"><span>ğŸ’¡ ç»“æ„ç¤ºæ„</span>
  <a href="#-%e7%bb%93%e6%9e%84%e7%a4%ba%e6%84%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><pre tabindex="0"><code>


/proc
â”œâ”€â”€ meminfo           â† å†…å­˜ä½¿ç”¨æƒ…å†µ
â”œâ”€â”€ vmstat            â† è™šæ‹Ÿå†…å­˜ç»Ÿè®¡
â”œâ”€â”€ loadavg           â† ç³»ç»Ÿè´Ÿè½½
â”œâ”€â”€ [pid]/
â”‚   â”œâ”€â”€ status        â† å•ä¸ªè¿›ç¨‹çŠ¶æ€
â”‚   â”œâ”€â”€ sched         â† è°ƒåº¦å™¨ç»Ÿè®¡
â”‚   â””â”€â”€ cmdline       â† å¯åŠ¨å‘½ä»¤</code></pre><h4 class="heading-element" id="-ç¤ºä¾‹"><span>ğŸ” ç¤ºä¾‹</span>
  <a href="#-%e7%a4%ba%e4%be%8b" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><pre tabindex="0"><code>



cat /proc/meminfo | head
makefile


MemTotal:       16338044 kB
MemFree:         1305428 kB
Buffers:          384684 kB
Cached:         10674876 kB
SwapTotal:       2097148 kB
SwapFree:        2097148 kB




cat /proc/1/status  # æŸ¥çœ‹ PID=1 çš„è¿›ç¨‹çŠ¶æ€</code></pre><hr>
<h3 class="heading-element" id="2-sysfså†…æ ¸å­ç³»ç»Ÿçš„é…ç½®æ¥å£"><span>2. <code>/sys/fs</code>ï¼šå†…æ ¸å­ç³»ç»Ÿçš„é…ç½®æ¥å£</span>
  <a href="#2-sysfs%e5%86%85%e6%a0%b8%e5%ad%90%e7%b3%bb%e7%bb%9f%e7%9a%84%e9%85%8d%e7%bd%ae%e6%8e%a5%e5%8f%a3" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><ul>
<li><code>/sys/fs/cgroup</code>: æ§åˆ¶ç»„ (cgroup) å­ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ï¼Œå±•ç¤ºè¿›ç¨‹ç»„èµ„æºé™åˆ¶</li>
<li><code>/sys/fs/bpf</code>: BPF ç¨‹åºå’Œ map ä¿¡æ¯</li>
</ul>
<pre tabindex="0"><code>

tree /sys/fs/cgroup -L 2</code></pre><p>å¯è§ CPUã€memoryã€io é™åˆ¶æƒ…å†µã€‚</p>
<hr>
<h3 class="heading-element" id="3-vmstatåŠ¨æ€å†…å­˜--swap--io-çŠ¶æ€"><span>3. <code>vmstat</code>ï¼šåŠ¨æ€å†…å­˜ &amp; swap &amp; IO çŠ¶æ€</span>
  <a href="#3-vmstat%e5%8a%a8%e6%80%81%e5%86%85%e5%ad%98--swap--io-%e7%8a%b6%e6%80%81" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><pre tabindex="0"><code>
vmstat 1 5</code></pre><h4 class="heading-element" id="-è¾“å‡ºç¤ºæ„"><span>ğŸ§¾ è¾“å‡ºç¤ºæ„</span>
  <a href="#-%e8%be%93%e5%87%ba%e7%a4%ba%e6%84%8f" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><pre tabindex="0"><code>
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0      0  53020  31124 824204    0    0     1     2    3    6  1  0 99  0  0</code></pre><p>å­—æ®µè§£é‡Šï¼š</p>
<ul>
<li><code>r</code>: å¯è¿è¡Œè¿›ç¨‹æ•°é‡ï¼ˆrun queueï¼‰</li>
<li><code>si/so</code>: swap in/out</li>
<li><code>us/sy</code>: ç”¨æˆ·/ç³»ç»Ÿæ€ CPU ä½¿ç”¨ç‡</li>
<li><code>wa</code>: IO ç­‰å¾…æ—¶é—´</li>
</ul>
<hr>
<h2 class="heading-element" id="-å¯è§†åŒ–å»ºè®®ascii-é£æ ¼"><span>ğŸ“Š å¯è§†åŒ–å»ºè®®ï¼ˆASCII é£æ ¼ï¼‰</span>
  <a href="#-%e5%8f%af%e8%a7%86%e5%8c%96%e5%bb%ba%e8%ae%aeascii-%e9%a3%8e%e6%a0%bc" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 class="heading-element" id="linux-è™šæ‹Ÿå†…å­˜ç»“æ„"><span>Linux è™šæ‹Ÿå†…å­˜ç»“æ„ï¼š</span>
  <a href="#linux-%e8%99%9a%e6%8b%9f%e5%86%85%e5%ad%98%e7%bb%93%e6%9e%84" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><pre tabindex="0"><code>pgsql



+--------------------------+
|         å†…æ ¸ç©ºé—´         |
+--------------------------+
|         ç”¨æˆ·ç©ºé—´         |
|  +--------+             |
|  | Stack  | â† å‘ä¸‹å¢é•¿    |
|  +--------+             |
|  | Heap   | â† å‘ä¸Šå¢é•¿    |
|  +--------+             |
|  | Data   |             |
|  +--------+             |
|  | Text   |             |
+--------------------------+</code></pre><hr>
<h3 class="heading-element" id="-ç¤ºä¾‹å®æˆ˜æŸ¥çœ‹å½“å‰ç³»ç»Ÿè´Ÿè½½å’Œå†…å­˜å¥åº·åº¦"><span>ğŸš€ ç¤ºä¾‹å®æˆ˜ï¼šæŸ¥çœ‹å½“å‰ç³»ç»Ÿè´Ÿè½½å’Œå†…å­˜å¥åº·åº¦</span>
  <a href="#-%e7%a4%ba%e4%be%8b%e5%ae%9e%e6%88%98%e6%9f%a5%e7%9c%8b%e5%bd%93%e5%89%8d%e7%b3%bb%e7%bb%9f%e8%b4%9f%e8%bd%bd%e5%92%8c%e5%86%85%e5%ad%98%e5%81%a5%e5%ba%b7%e5%ba%a6" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><pre tabindex="0"><code>



cat /proc/loadavg</code></pre><p>è¾“å‡ºï¼š</p>
<pre tabindex="0"><code>yaml



0.05 0.03 0.01 1/135 1342</code></pre><p>è¡¨ç¤ºæœ€è¿‘ 1ã€5ã€15 åˆ†é’Ÿè´Ÿè½½ï¼›<code>1/135</code> è¡¨ç¤ºæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°/æ€»çº¿ç¨‹æ•°ã€‚</p>
<hr>
<h2 class="heading-element" id="-å°ç»“"><span>âœ… å°ç»“</span>
  <a href="#-%e5%b0%8f%e7%bb%93" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><table>
  <thead>
      <tr>
          <th>å·¥å…·/ç›®å½•</th>
          <th>æŸ¥çœ‹å†…å®¹</th>
          <th>å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>/proc</code></td>
          <td>å†…æ ¸å¯¼å‡ºçš„è¿è¡Œæ—¶ä¿¡æ¯</td>
          <td><code>cat /proc/meminfo</code>ã€<code>cat /proc/[pid]/status</code></td>
      </tr>
      <tr>
          <td><code>/sys/fs</code></td>
          <td>æ–‡ä»¶ç³»ç»Ÿã€cgroupã€BPF ç­‰æ¥å£</td>
          <td><code>tree /sys/fs/cgroup</code></td>
      </tr>
      <tr>
          <td><code>vmstat</code></td>
          <td>è¿è¡Œæ—¶èµ„æºçŠ¶æ€å¿«ç…§</td>
          <td><code>vmstat 1 5</code></td>
      </tr>
  </tbody>
</table>
<h2 class="heading-element" id="å…¶ä»–ç¬”è®°"><span>å…¶ä»–ç¬”è®°</span>
  <a href="#%e5%85%b6%e4%bb%96%e7%ac%94%e8%ae%b0" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>æŸ¥çœ‹æ–‡ä»¶æºä¿¡æ¯</p>
<pre tabindex="0"><code>[rust@localhost ~]$ stat ooxx.txt
  File: â€˜ooxx.txtâ€™
  Size: 0         	Blocks: 0          IO Block: 4096   regular empty file
Device: 803h/2051d	Inode: 2554752     Links: 1
Access: (0664/-rw-rw-r--)  Uid: ( 1000/    rust)   Gid: ( 1000/    rust)
Context: unconfined_u:object_r:user_home_t:s0
Access: 2025-05-17 22:00:33.642686670 -0700
Modify: 2025-05-17 22:00:33.642686670 -0700
Change: 2025-05-17 22:00:33.642686670 -0700

#è½¯é“¾æ¥ Inode ä¸ä¸€æ ·
[rust@localhost ~]$ ln -s ooxx.txt zxj.txt
[rust@localhost ~]$ ll
total 0
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Desktop
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Documents
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Downloads
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Music
-rw-rw-r--. 1 rust rust 0 May 17 22:00 ooxx.txt
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Pictures
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Public
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Templates
drwxr-xr-x. 2 rust rust 6 May 17 09:17 Videos
lrwxrwxrwx. 1 rust rust 8 Aug  2 21:35 zxj.txt -&gt; ooxx.txt</code></pre><pre tabindex="0"><code># 1. åˆ›å»ºé•œåƒ
dd if=/dev/zero of=mydisk.img bs=1M count=100

# 2. å…³è” loop è®¾å¤‡ï¼ˆç³»ç»Ÿè‡ªåŠ¨é€‰ï¼‰
sudo losetup -fP mydisk.img

# 3. æŸ¥çœ‹å“ªä¸ª loop è®¾å¤‡å…³è”ä¸Šäº†
losetup -a

# å‡è®¾æ˜¯ /dev/loop0ï¼Œæ‰§è¡Œæ ¼å¼åŒ–
sudo mkfs.ext4 /dev/loop0

# 4. åˆ›å»ºæŒ‚è½½ç‚¹
mkdir ~/mnt/mydisk

# 5. æŒ‚è½½
sudo mount /dev/loop0 ~/mnt/mydisk

# 6. æŸ¥çœ‹æŒ‚è½½çŠ¶æ€
mount | grep mydisk

# 7. è¿›å…¥æ–‡ä»¶ç³»ç»Ÿ
cd ~/mnt/mydisk</code></pre><pre tabindex="0"><code>[rust@localhost ~]$ lsof -p $$
COMMAND   PID USER   FD   TYPE DEVICE  SIZE/OFF     NODE NAME
    12591 rust  cwd    DIR    8,3      4096       70 /home/rust
    12591 rust  rtd    DIR    8,3       224       64 /
    12591 rust  txt    REG    8,3    964608 50417832 /usr/bin/
    12591 rust  mem    REG    8,3     61624   146973 /usr/lib64/libnss_files-2.17.so
    12591 rust  mem    REG    8,3 106075056 17098588 /usr/lib/locale/locale-archive
    12591 rust  mem    REG    8,3   2151672   146955 /usr/lib64/libc-2.17.so
    12591 rust  mem    REG    8,3     19288   146961 /usr/lib64/libdl-2.17.so
    12591 rust  mem    REG    8,3    174576   167495 /usr/lib64/libtinfo.so.5.9
    12591 rust  mem    REG    8,3    163400   146948 /usr/lib64/ld-2.17.so
    12591 rust  mem    REG    8,3     26254 33901061 /usr/lib64/gconv/gconv-modules.cache
    12591 rust    0u   CHR  136,2       0t0        5 /dev/pts/2
    12591 rust    1u   CHR  136,2       0t0        5 /dev/pts/2
    12591 rust    2u   CHR  136,2       0t0        5 /dev/pts/2
    12591 rust  255u   CHR  136,2       0t0        5 /dev/pts/2</code></pre><h3 class="heading-element" id="-1-ä»€ä¹ˆæ˜¯-pcstat"><span>âœ… 1. ä»€ä¹ˆæ˜¯ <code>pcstat</code>ï¼Ÿ</span>
  <a href="#-1-%e4%bb%80%e4%b9%88%e6%98%af-pcstat" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p><code>pcstat</code>ï¼ˆPage Cache statï¼‰æ˜¯ä¸€ä¸ªç”¨äºæŸ¥çœ‹æŸä¸ªæ–‡ä»¶åœ¨ Linux é¡µç¼“å­˜ï¼ˆPage Cacheï¼‰ä¸­å æ¯”æƒ…å†µçš„å·¥å…·ï¼Œé€šå¸¸ç”¨æ¥åˆ†æå“ªäº›æ–‡ä»¶åœ¨å†…å­˜ä¸­ã€å“ªäº›ä¸åœ¨ã€‚å®ƒ<strong>ä¸æ”¯æŒç›´æ¥ç”¨ <code>-pid</code> æŸ¥çœ‹è¿›ç¨‹é¡µç¼“å­˜</strong>ï¼Œä½ å¯èƒ½æƒ³ç”¨çš„å…¶å®æ˜¯åˆ«çš„å‘½ä»¤ã€‚</p>
<hr>
<h3 class="heading-element" id="-2-ä½ å¯èƒ½çœŸæ­£æƒ³ç”¨çš„æ˜¯"><span>âœ… 2. ä½ å¯èƒ½çœŸæ­£æƒ³ç”¨çš„æ˜¯ï¼š</span>
  <a href="#-2-%e4%bd%a0%e5%8f%af%e8%83%bd%e7%9c%9f%e6%ad%a3%e6%83%b3%e7%94%a8%e7%9a%84%e6%98%af" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>å¦‚æœä½ æƒ³æŸ¥çœ‹å½“å‰ <strong>è¿›ç¨‹</strong> ä½¿ç”¨çš„å†…å­˜ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ›´å¸¸ç”¨å’Œå†…ç½®çš„æ–¹å¼ï¼š</p>
<h4 class="heading-element" id="-æ–¹æ³•ä¸€cat-procstatus"><span>ğŸ“Œ æ–¹æ³•ä¸€ï¼š<code>cat /proc/$$/status</code></span>
  <a href="#-%e6%96%b9%e6%b3%95%e4%b8%80cat-procstatus" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><pre tabindex="0"><code>cat /proc/$$/status</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å­—æ®µï¼š</p>
<ul>
<li><code>VmRSS</code>ï¼šå®é™…ä½¿ç”¨çš„ç‰©ç†å†…å­˜</li>
<li><code>VmSize</code>ï¼šè¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜</li>
<li><code>VmSwap</code>ï¼šè¢« swap çš„éƒ¨åˆ†</li>
</ul>
<h4 class="heading-element" id="-æ–¹æ³•äºŒpmap"><span>ğŸ“Œ æ–¹æ³•äºŒï¼š<code>pmap</code></span>
  <a href="#-%e6%96%b9%e6%b3%95%e4%ba%8cpmap" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h4><pre tabindex="0"><code>pmap $$</code></pre><p>è¿™ä¼šåˆ—å‡ºå½“å‰ shell çš„å†…å­˜æ˜ å°„è¯¦æƒ…ã€‚</p>
<p><img loading="lazy" src='image-01.png' alt="image-20250803160951892"></p>
<h2 class="heading-element" id="æµç¨‹å›¾"><span>æµç¨‹å›¾</span>
  <a href="#%e6%b5%81%e7%a8%8b%e5%9b%be" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p><a href="https://www.processon.com/diagraming/6820d4975af9ec6a21e8b3a1"target="_blank" rel="external nofollow noopener noreferrer">https://www.processon.com/diagraming/6820d4975af9ec6a21e8b3a1</a></p></div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="Updated on 2025-08-03 11:25:19">Updated on 2025-08-03&nbsp;</span>
      </div></div><div class="post-info-line">
        <div class="post-info-md"><span><a href="vscode://file//Users/rust/work/study/IO/IO-Study/myblog/content/posts/io/01_%e8%99%9a%e6%8b%9f%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f,%e6%96%87%e4%bb%b6%e6%8f%8f%e8%bf%b0%e7%ac%a6,IO%e9%87%8d%e5%ae%9a%e5%90%91.md" title="Open in editor"target="_blank" rel="external nofollow noopener noreferrer" class="link-to-vscode">Open in editor</a></span></div>
        <div class="post-info-share">
          <span><a href="javascript:void(0);" title="Share on X" data-sharer="twitter" data-url="http://localhost:1313/posts/io/5f4d35a/" data-title="01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘" data-hashtags="draft"><i class="fa-brands fa-x-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/io/5f4d35a/" data-hashtag="draft"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="Share on å¾®åš" data-sharer="weibo" data-url="http://localhost:1313/posts/io/5f4d35a/" data-title="01_è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ,æ–‡ä»¶æè¿°ç¬¦,IOé‡å®šå‘"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  </span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/draft/" class="post-tag" title="Tags - Draft">Draft</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
    </section>
  </div><div class="post-nav"><a href="/posts/e2aee69/" class="post-nav-item" rel="prev" title="Hello World"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>Hello World</a></div>
</div>
</article>

  <aside class="toc" id="toc-auto" aria-label="Contents"><h2 class="toc-title">Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.148.2"><img class="hugo-icon" src="/images/hugo.min.svg" alt="Hugo logo" /> Hugo</a> | Theme - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.4.0-alpha-20250721024521-a1cd700b"><img class="fixit-icon" src="/images/fixit.min.svg" alt="FixIt logo" /> FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">
              <a href="https://github.com/zhangsan"target="_blank" rel="external nofollow noopener noreferrer">å¼ ä¸‰</a></span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">This website works best with JavaScript enabled.</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"Copy to clipboard","editLockTitle":"Lock editable code block","editUnLockTitle":"Unlock editable code block","editable":true,"maxShownLines":10},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"version":"v0.4.0-alpha-20250721024521-a1cd700b"};console.log('Page config:', window.config);</script><script src="/js/theme.min.js" defer></script></body>
</html>
